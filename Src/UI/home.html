<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <link rel="stylesheet" type="text/css" href="static/main.css">
   <title>Home - EasyLeave</title>
</head>
<style>
   #container >*{
      display: inline-block;
   }

   #windowLoad{
      position: fixed;
      top: 0;
      background-color: rgba(255, 255, 255, 0.801);
      font-size: 30px;
      padding: 40vh 0;
      font-weight: 400;
      width: 100%;
      height: 90vh;
      margin: 5vh 0;
      overflow: hidden;
   }

   #navLinks{
      width: 250px;
      margin-top: 10px;
      padding: 10px;
      height: calc(100vh - 100px);
      border-right: 2px solid rgb(96, 0, 126);
   }

   .button-style-grey{
      background-color: rgb(233, 233, 233);
      border-left: 2px solid transparent;
      transition: background-color 0.5s;
      transition: border-left 0.5s;
      padding: 10px;
      margin: 15px 0;
      width: 100%;
      display: block;
      box-shadow: 0 1px 2px 2px rgba(0,0,0,0.2);
   }
   .button-style-grey:hover{
      border-left: 2px solid rgb(39, 39, 39);
      background-color: rgb(190, 190, 190);
   }

</style>
<body>

   <header>
      <div id="headerLeft">
         <img src="static/logo.jpg" alt="logo" id="logo">
         <h2>Easy Leave</h2>
      </div>
   </header>

   <div id="container">
      <center id="navLinks">
         <button class="button-style-grey" onclick="viewSummary()">Summary</button>
         <div x-for-student>
            <button class="button-style-grey" onclick="viewRequestLeave()">Request Leave</button>
            <button class="button-style-grey" onclick="viewLeaveHistory()">Leave History</button>
         </div>

         <div x-for-faculty>
            <button class="button-style-grey" onclick="viewPendingApproval()">Pending Approval</button>
            <button class="button-style-grey" onclick="viewAllRequests()">View All Requests</button>
         </div>

      </center>
      <div id="mainContent">

      </div>
   </div>
   
</body>
<script src="static/main.js"></script>
<script>
   document.body.insertAdjacentHTML("beforeEnd",`<center id="windowLoad">Loading...</center>`);

   ajax("get","/api/userInfo")
   .then((resp)=>{
      let res = JSON.parse(resp.res);
      let typeToHide = res.type=="faculty"?"student":"faculty";
      document.styleSheets[0].insertRule(`[x-for-${typeToHide}]{ display: none;}`,0);
   })
   .catch((err)=>{
      $("#windowLoad").innerHTML = `An Error Occured! HTTP ${err.status} <br> <button class="button-sd" onclick="window.location=window.location;">Reload</button>`
   });

</script>
</html>